Os códigos fornecidos constituem um conjunto de programas em C destinados a gerenciar e manipular registros de acessos e produtos armazenados em arquivos binários. O gerenciador_accesses foca no gerenciamento de registros de acessos, definidos pela estrutura AccessRecord. Este programa permite realizar operações como busca eficiente utilizando busca binária pelo campo seq_key, o que facilita a localização rápida de registros específicos no arquivo accesses.bin. Além disso, o programa oferece a funcionalidade de exibição sequencial paginada dos registros, permitindo ao usuário visualizar os acessos em blocos de 16 registros por página, o que torna a navegação pelos dados mais organizada e manejável. Para otimizar ainda mais as buscas, é implementada a construção de um índice parcial (accesses.idx), que mapeia intervalos de registros, agilizando o processo de busca ao reduzir o número de comparações necessárias. O programa também permite a filtragem de registros com base em user_id e product_id, criando arquivos temporários específicos que contêm apenas os registros relevantes para um determinado usuário ou produto, facilitando a visualização e análise desses dados. A interface de menu interativa integra todas essas funcionalidades, proporcionando uma experiência de uso amigável e estruturada.

O gerenciador_products está direcionado ao gerenciamento de registros de produtos, definidos pela estrutura ProductRecord. Este programa oferece funcionalidades avançadas para a inserção, remoção, busca, ordenação e filtragem de produtos. A inserção de novos produtos no arquivo products.bin é realizada de forma ordenada com base no product_id, garantindo a integridade e a eficiência na organização dos dados. Caso um produto já existente seja inserido novamente, o programa verifica sua atividade e previne duplicatas, mantendo a consistência dos registros. As buscas por product_id são otimizadas tanto pelo uso de busca binária no arquivo principal quanto pela utilização de um índice parcial (products.idx), assegurando respostas rápidas mesmo em grandes volumes de dados. A remoção de produtos é realizada de maneira lógica, marcando os registros como inativos (ativo = 0), o que permite a exclusão sem a necessidade de reescrever o arquivo, facilitando futuras auditorias ou restaurações. Para lidar com grandes conjuntos de dados, o programa implementa uma ordenação externa utilizando o algoritmo quicksort, que divide o arquivo de produtos em pedaços menores, ordena cada pedaço individualmente e, posteriormente, mescla esses pedaços ordenados em um único arquivo final. Além disso, o programa oferece funcionalidades de filtragem por marca e por faixa de preço, permitindo ao usuário criar e visualizar arquivos temporários que contêm apenas os produtos que correspondem aos critérios especificados. A interface de menu abrangente guia o usuário através dessas diversas operações, garantindo uma gestão completa e eficiente dos dados de produtos.

O gerar_arquivos é responsável por transformar dados em formato CSV (dados_oct.csv) em arquivos binários estruturados e ordenados, facilitando o processamento subsequente dos dados. A função create_accesses_file lê o arquivo CSV linha a linha, parseia os campos relevantes como event_time, event_type, product_id, user_id e user_session, e armazena esses dados em um arquivo binário (accesses.bin). Cada registro recebe uma chave sequencial (seq_key) para identificação única, o que é essencial para operações de busca e indexação posteriores. A função external_sort_products implementa um algoritmo de ordenação externa para organizar os registros de produtos, especialmente útil para conjuntos de dados que não podem ser totalmente carregados na memória. Este processo envolve a divisão do arquivo de produtos em pedaços menores (chunks), a ordenação de cada pedaço individualmente e a mesclagem desses pedaços ordenados em um único arquivo final (products.bin). Durante a ordenação, arquivos temporários são criados para armazenar os chunks ordenados e, após a mesclagem final, esses arquivos temporários são removidos para conservar espaço e manter a organização dos dados. Além disso, o programa inclui funções auxiliares como quicksort, partition e swap_records para suportar a ordenação eficiente dos registros, bem como a função pad_string para garantir que strings em campos específicos mantenham um tamanho fixo, evitando inconsistências nos dados.

https://drive.google.com/drive/folders/1Vs1C9jlM1QtteUf3p51c4mNSEj057L7Q?usp=share_link
